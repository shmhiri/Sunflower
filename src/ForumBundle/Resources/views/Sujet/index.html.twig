{% extends 'baseback.html.twig' %}

{% block content %}



    <h1>Listes des Sujets </h1>

    <div class="row clearfix">
        <div class="col-lg-12">
            <div class="card">
                <div class="table-responsive">

                    <table class="table table-bordered table-striped table-hover dataTable js-exportable">
                        <thead class="thead-dark">
                        <tr>
                            <th scope="col">Nomsujet</th>
                            <th scope="col">Nomcategoriesujet</th>
                            <th scope="col">Nomagent</th>
                            <th scope="col">Datecreation</th>
                            <th scope="col">Type</th>
                            <th scope="col">Image</th>
                            <th scope="col">Nombre de vue</th>
                            <th scope="col">Actions</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for sujet in sujets %}
                            <tr>
                                <td><a href="{{ path('sujet_show', { 'idSujet': sujet.idSujet }) }}">{{ sujet.nomSujet }}</a></td>
                                <td>{{ sujet.nomCategorieSujet }}</td>
                                <td>{{ sujet.nomAgent }}</td>
                                <td>{% if sujet.dateCreation %}{{ sujet.dateCreation|date('Y-m-d H:i:s') }}{% endif %}</td>
                                <td>{{ sujet.type }}</td>
                                <td><img src="{{ asset('uploads/images/' ~ sujet.image)  }} " width="100" height="100"/></td>
                                <td>{{ sujet.nbrVue }}</td>
                                <td>

                                    {#  <a href="{{ path('sujet_show', { 'idSujet': sujet.idSujet }) }}">show</a>#}
                                    <div class="jsdemo-notification-button">
                                        <a href="{{ path('sujet_show', { 'idSujet': sujet.idSujet }) }}">
                                            <button type="button" class="btn btn-raised m-b-10 btn-info waves-effect" data-placement-from="bottom" data-placement-align="left" data-animate-enter="" data-animate-exit="" data-color-name="alert-info"> Afficher </button>
                                        </a>

                                        <a href="{{ path('sujet_edit', { 'idSujet': sujet.idSujet }) }}">
                                            <button type="button" class="btn btn-raised m-b-10 btn-warning waves-effect" data-placement-from="bottom" data-placement-align="right" data-animate-enter="" data-animate-exit="" data-color-name="alert-warning"> Modifier</button>

                                        </a>
                                    </div>

                                </td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <ul>
            <a class="btn btn-app" href="{{ path('sujet_new') }}">Ajouter un nouveau sujet</a>

        <a href="{{path('stat_back')}}">
            <button type="button" class="btn btn-raised m-b-10 btn-info waves-effect" data-placement-from="bottom" data-placement-align="left" data-animate-enter="" data-animate-exit="" data-color-name="alert-info"> Voir Statistique</button>
        </a>

    </ul>

{% endblock %}
